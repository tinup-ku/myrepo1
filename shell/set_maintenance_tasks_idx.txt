start_maintenance
su - ${uid} -c "${SPLUNK_BIN}/splunk enable maintenance-mode -auth admin:${key}"

stop_maintenance
su - ${uid} -c "${SPLUNK_BIN}/splunk disable maintenance-mode -auth admin:${key}"

show_maintenance
su - ${uid} -c "${SPLUNK_BIN}/splunk show maintenance-mode -auth admin:${key} 2>/dev/null"


set_idx_detention
{
su - ${uid} -c "${SPLUNK_BIN}/splunk edit cluster-config -manual_detention $mode -auth admin:${key}"
echo -n "Verifying `uname -n` manual_detention status:"
su - ${uid} -c "${SPLUNK_BIN}/splunk list cluster-config |grep manual_detention|awk -F: '{print $NF}'"
}| tee /var/tmp/`basename $0`.${date_}.OUT.$$
#mailx -s "Indexer Detention Mode: $mode|`uname -n`:/var/tmp/`basename $0`.${date_}.OUT.$$" user.com < /var/tmp/`basename $0`.${date_}.OUT.$$

check_detention_status
su - ${uid} -c "${SPLUNK_BIN}/splunk list cluster-config -auth admin:${key}|grep manual_detention"
